# OpenTracker Demo 项目

这是一个用于测试 OpenTracker 埋点平台的示例项目，集成了 OpenTracker SDK，可以测试各种监控功能。

## 功能测试

- ✅ 错误监控
- ✅ 性能监控
- ✅ 行为监控
- ✅ 自定义事件
- ✅ 页面访问监控

## 前提条件

1. **启动 OpenTracker 服务端**

   ```bash
   # 进入服务端目录
   cd ../packages/server
   pnpm dev
   ```

2. **启动 OpenTracker 后台管理系统**

   ```bash
   # 进入后台管理系统目录
   cd ../packages/admin
   pnpm dev
   ```

3. **创建测试项目**
   - 登录后台管理系统
   - 进入个人资料页面
   - 切换到"我的项目"标签页
   - 点击"新建项目"按钮
   - 填写项目信息：
     - 项目名称：Demo Project
     - 项目网址：http://localhost:5173
     - 项目类型：Web
     - API Key：demo_project_123（或使用自动生成的）
   - 保存项目

## 安装依赖

```bash
# 在 demo 目录中执行
npm install
```

## 启动项目

```bash
npm run dev
```

项目将在 http://localhost:5173 启动。

## 测试步骤

1. **访问项目**：打开浏览器，访问 http://localhost:5173
2. **查看 SDK 状态**：页面顶部会显示 SDK 初始化状态
3. **测试各项功能**：
   - **测试错误监控**：点击"测试错误监控"按钮，会故意触发一个错误并上报
   - **测试性能监控**：点击"测试性能监控"按钮，会上报模拟的性能数据
   - **测试行为监控**：点击"测试行为监控"按钮，会上报行为事件
   - **测试自定义事件**：点击"测试自定义事件"按钮，会上报自定义事件
4. **查看控制台**：打开浏览器开发者工具，查看控制台日志，确认事件已上报
5. **查看后台数据**：登录 OpenTracker 后台管理系统，查看监控数据

## 项目配置

### SDK 初始化配置

在 `src/main.jsx` 文件中，你可以修改以下配置：

```javascript
initTracker({
  apiKey: 'demo_project_123', // 替换为你在后台管理系统中创建的项目的API Key
  serverUrl: 'http://localhost:3000', // OpenTracker 服务端地址
  debug: true, // 开启调试模式
  userId: 'demo_user_123', // 示例用户ID
})
```

### 服务端地址

默认服务端地址为 `http://localhost:3000`，如果你的服务端运行在不同端口，请修改此配置。

## 监控数据查看

1. **登录后台管理系统**：默认地址为 http://localhost:5173
2. **进入监控页面**：
   - **错误分析**：查看错误监控数据
   - **性能分析**：查看性能监控数据
   - **行为分析**：查看行为监控数据
   - **我的项目**：查看项目列表和基本监控数据

## 常见问题

### 1. SDK 初始化失败

**原因**：

- 服务端未启动
- API Key 错误
- 网络连接问题

**解决方案**：

- 确保服务端已启动（http://localhost:3000）
- 确保 API Key 与后台管理系统中创建的项目匹配
- 检查网络连接是否正常

### 2. 数据不上报

**原因**：

- SDK 未初始化
- 服务端地址错误
- 跨域问题

**解决方案**：

- 检查控制台是否有 SDK 初始化错误
- 确保服务端地址配置正确
- 检查服务端是否配置了正确的 CORS 头

### 3. 后台管理系统看不到数据

**原因**：

- 数据未成功上报
- 项目配置错误
- 时间范围选择错误

**解决方案**：

- 检查浏览器控制台是否有上报成功的日志
- 确保使用了正确的 API Key
- 在后台管理系统中调整时间范围

## 技术栈

- React 18
- Vite
- OpenTracker SDK
- Ant Design (样式参考)

## 项目结构

```
demo/
├── src/
│   ├── main.jsx        # 入口文件，SDK 初始化
│   ├── App.jsx         # 主组件，测试功能
│   └── index.css       # 样式文件
├── index.html          # HTML 入口
├── package.json        # 项目配置
├── vite.config.js      # Vite 配置
└── README.md           # 说明文档
```

## 注意事项

1. **仅用于测试**：此项目仅用于测试 OpenTracker 功能，不适合生产环境
2. **API Key 安全**：在生产环境中，请确保 API Key 的安全
3. **服务端配置**：在生产环境中，请配置正确的服务端地址和端口
4. **数据量控制**：测试时避免频繁点击按钮，以免产生过多测试数据

## 联系我们

如果您在使用过程中遇到问题，请参考 OpenTracker 文档或联系技术支持。

---

**享受监控的乐趣！** 🎉
